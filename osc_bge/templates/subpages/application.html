{% load humanize index %}
<div class="MTitle">Application Info</div>
<div class="cdiv"></div>

{% if school_formalities %}
  {% for i in school_formalities %}
  <div id="ChoiceSet{{forloop.counter}}" class="ChoiceSet">
    <div class="TitleIcon">{{ forloop.counter|ordinal }}<br />Choice</div>
    <div class="Information">
      <div class="InfoTable">
        <table cellpadding="0" cellspacing="0" border="0">
          <colgroup>
            <col>
            <col width="80">
            <col width="120">
            <col width="60">
            <col width="140">
          </colgroup>
          <tr>
            <td class="InnerInputTD" colspan="5">
              <select id="CountryAjax{{forloop.counter}}" class="TableInnerInput" name="app_country{{forloop.counter}}">
                <option selected disabled>{{ i.school.country|upper}} Selected</option>
                {% for country in countries %}
                <option value="{{ country.country }}">{{ country.country|upper }}</option>
                {% endfor %}
              </select>
              <select id="StateAjax{{forloop.counter}}" class="TableInnerInput" name="app_state{{forloop.counter}}">
                <option selected disabled>{{ i.school.state|capfirst }} Selected</option>
              </select>
              <select id="SchoolAjax{{forloop.counter}}" class="TableInnerInput" name="app_school{{forloop.counter}}">
                <option value="{{ i.school.id }}">{{ i.school.name }}</option>
              </select>
            </td>
            <th>Start Date : </th>
            <td class="InnerInputTD">
              <input
                type="text"
                class="TableInnerInput"
                size="10"
                name="app_start{{forloop.counter}}"
                pattern="(?:19|20)[0-9]{2}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-9])|(?:(?!02)(?:0[1-9]|1[0-2])-(?:30))|(?:(?:0[13578]|1[02])-31))"
                placeholder="YYYY-MM-DD"
                value="{{ i.class_start_at|date:"Y-m-d" }}"
              />
            </td>
            <th>Course : </th>
            <td class="InnerInputTD">
              <input
                type="text"
                class="TableInnerInput"
                size="12"
                name="app_course{{forloop.counter}}"
                value="{{ i.course }}"
              />
            </td>
          </tr>
        </table>
      </div><!-- InfoTable -->
    </div><!-- Information -->
    {% if forloop.counter != 1 %}
    <div class="DeleteIcon">
      <div id="deleteDivBtn{{forloop.counter}}">Delete</div>
    </div>
    {% endif %}
  </div><!-- ChoiceSet -->
  {% if school_formalities|length == forloop.counter %}
  <div id="showDiv{{forloop.counter|add:1}}" class="AddIcon">
    <div id="showDivBtn{{forloop.counter|add:1}}">Add</div>
  </div>
  {% else %}
  <div id="showDiv{{forloop.counter|add:1}}" class="AddIcon" style="display:none;">
    <div id="showDivBtn{{forloop.counter|add:1}}">Add</div>
  </div>
  {% endif %}
  {% endfor %}

  {% for i in empty_range %}
  <div id="ChoiceSet{{i}}" class="ChoiceSet" style="display:none;">
    <div class="TitleIcon">{{ i|ordinal }}<br />Choice</div>
    <div class="Information">
      <div class="InfoTable">
        <table cellpadding="0" cellspacing="0" border="0">
          <colgroup>
            <col>
            <col width="80">
            <col width="120">
            <col width="60">
            <col width="140">
          </colgroup>
          <tr>
            <td class="InnerInputTD" colspan="5">
              <select id="CountryAjax{{i}}" class="TableInnerInput" name="app_country{{i}}">
                <option value="">Country Select..</option>
                {% for country in countries %}
                <option value="{{ country.country }}">{{ country.country|upper }}</option>
                {% endfor %}
              </select>
              <select id="StateAjax{{i}}" class="TableInnerInput" name="app_state{{i}}">
                <option>State Select..</option>
              </select>
              <select id="SchoolAjax{{i}}" class="TableInnerInput" name="app_school{{i}}">
                <option value="">School Select..</option>
              </select>
            </td>
            <th>Start Date : </th>
            <td class="InnerInputTD">
              <input
                type="text"
                class="TableInnerInput"
                size="10"
                name="app_start{{i}}"
                pattern="(?:19|20)[0-9]{2}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-9])|(?:(?!02)(?:0[1-9]|1[0-2])-(?:30))|(?:(?:0[13578]|1[02])-31))"
                placeholder="YYYY-MM-DD"
              />
            </td>
            <th>Course : </th>
            <td class="InnerInputTD">
              <input type="text" class="TableInnerInput" size="12" name="app_course{{i}}"/>
            </td>
          </tr>
        </table>
      </div><!-- InfoTable -->
    </div><!-- Information -->
    <div class="DeleteIcon">
      <div id="deleteDivBtn{{i}}">Delete</div>
    </div>
  </div><!-- ChoiceSet -->
  <div id="showDiv{{i|add:1}}" class="AddIcon" style="display:none;">
    <div id="showDivBtn{{i|add:1}}">Add</div>
  </div>
  {% endfor %}
{% else %}

  <div id="ChoiceSet1" class="ChoiceSet">
    <div class="TitleIcon">1st<br />Choice</div>
    <div class="Information">
      <div class="InfoTable">
        <table cellpadding="0" cellspacing="0" border="0">
          <colgroup>
            <col>
            <col width="80">
            <col width="120">
            <col width="60">
            <col width="140">
          </colgroup>
          <tr>
            <td class="InnerInputTD" colspan="5">
              <select id="CountryAjax1" class="TableInnerInput" name="app_country1">
                <option value="">Country Select..</option>
                {% for country in countries %}
                  <option value="{{ country.country }}">{{ country.country|upper }}</option>
                {% endfor %}
              </select>
              <select id="StateAjax1" class="TableInnerInput" name="app_state1">
                <option>State Select..</option>
              </select>
              <select id="SchoolAjax1" class="TableInnerInput" name="app_school1" required>
                <option value="">School Select..</option>
              </select>
            </td>
            <th>Start Date : </th>
            <td class="InnerInputTD">
              <input
                type="text"
                class="TableInnerInput"
                size="10"
                name="app_start1"
                pattern="(?:19|20)[0-9]{2}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-9])|(?:(?!02)(?:0[1-9]|1[0-2])-(?:30))|(?:(?:0[13578]|1[02])-31))"
                placeholder="YYYY-MM-DD"
              />
            </td>
            <th>Course : </th>
            <td class="InnerInputTD">
              <input type="text" class="TableInnerInput" size="12" name="app_course1"/>
            </td>
          </tr>
        </table>
      </div><!-- InfoTable -->
    </div><!-- Information -->
  </div><!-- ChoiceSet -->
  <div id="showDiv2" class="AddIcon">
    <div id="showDivBtn2">Add</div>
  </div>

  {% for i in empty_range %}
  <div id="ChoiceSet{{i}}" class="ChoiceSet" style="display:none;">
    <div class="TitleIcon">{{ i|ordinal }}<br />Choice</div>
    <div class="Information">
      <div class="InfoTable">
        <table cellpadding="0" cellspacing="0" border="0">
          <colgroup>
            <col>
            <col width="80">
            <col width="120">
            <col width="60">
            <col width="140">
          </colgroup>
          <tr>
            <td class="InnerInputTD" colspan="5">
              <select id="CountryAjax{{i}}" class="TableInnerInput" name="app_country{{i}}">
                <option value="">Country Select..</option>
                {% for country in countries %}
                <option value="{{ country.country }}">{{ country.country|upper }}</option>
                {% endfor %}
              </select>
              <select id="StateAjax{{i}}" class="TableInnerInput" name="app_state{{i}}">
                <option>State Select..</option>
              </select>
              <select id="SchoolAjax{{i}}" class="TableInnerInput" name="app_school{{i}}">
                <option value="">School Select..</option>
              </select>
            </td>
            <th>Start Date : </th>
            <td class="InnerInputTD">
              <input
                type="text"
                class="TableInnerInput"
                size="10"
                name="app_start{{i}}"
                pattern="(?:19|20)[0-9]{2}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-9])|(?:(?!02)(?:0[1-9]|1[0-2])-(?:30))|(?:(?:0[13578]|1[02])-31))"
                placeholder="YYYY-MM-DD"
              />
            </td>
            <th>Course : </th>
            <td class="InnerInputTD">
              <input type="text" class="TableInnerInput" size="12" name="app_course{{i}}"/>
            </td>
          </tr>
        </table>
      </div><!-- InfoTable -->
    </div><!-- Information -->
    <div class="DeleteIcon">
      <div id="deleteDivBtn{{i}}">Delete</div>
    </div>
  </div><!-- ChoiceSet -->
  <div id="showDiv{{i|add:1}}" class="AddIcon" style="display:none;">
    <div id="showDivBtn{{i|add:1}}">Add</div>
  </div>
  {% endfor %}

{% endif %}

<div class="EndPart"></div>
